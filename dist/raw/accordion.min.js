!function(){"use strict";function e(e,t,n){n?e.add(t):e.remove(t)}function t(e,t,n){var r,o,i,a,t=t<0?0:t,d=function(){var s=Date.now()-r;s>=t?(n||e.apply(o,i),a&&clearTimeout(a),a=o=i=null):a=setTimeout(d,t-s)};return function(){if(o=this,i=arguments,!t)return e.apply(o,i);r=Date.now(),a||(n&&e.apply(o,i),a=setTimeout(d,t))}}var n,r="ontouchstart"in document.documentElement,o=r?"touchend":"click",i=[].forEach,a=function(){for(var e="transitionend webkitTransitionEnd oTransitionEnd otransitionend".split(" "),t=0;t<4;++t)if("on"+e[t].toLowerCase()in window)return e[t];return e[0]}(),d=function(){function e(r,o,i){i=+(i||6);var a=r=r||"_";if(o){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(a+=(d+=d.toLowerCase())[Math.round(Math.random()*(d.length-1))],d+="0123456789";a.length<i;)a+=d[Math.round(Math.random()*(d.length-1))]}else n[r]||(n[r]=0),a+=++n[r];return t[a]||document.getElementById(a)?e(r,o):(t[a]=!0,a)}var t={},n={};return e}(),s=function(e){if(n=document.documentElement.style,(t=e.toLowerCase())in n)return t;for(var t,n,r=((r="Webkit Moz Ms O Khtml").toLowerCase()+r).split(" "),o=0;o<10;++o)if((t=r[o]+e)in n)return t;return""}("Transform"),l=function(e){var t=document.createElement("div").style,n=[["translateY(",")"],["translate3d(0,",",0)"]];try{t[e]=n[1].join("1px")}catch(e){}return n[+!!t[e]]===n[1]}(s),c=[],u=function(t,n){function i(){var e,t=n.id;w.id||y.id?y.id?w.id||(w.id=(t||y.id)+"-heading"):y.id=(t||w.id)+"-content":(e=t||d("a"),w.id=e+"-heading",y.id=e+"-content");for(var r=function(e){return document.querySelectorAll("#"+e)};r(y.id).length>1||r(w.id).length>1;)e=d("a"),y.id=e+"-content",w.id=e+"-heading";w.setAttribute("aria-controls",y.id),y.setAttribute("aria-labelledby",w.id)}var a,u,f,h,g,p,v,b,m,A=this,w=n.firstElementChild,y=n.lastElementChild,E=n.classList,F=t.openClass,x=t.closeClass,C=!t.noKeys,H=t.useBorders,L=!t.noTransforms&&s,T=t.onToggle,R=!1;Object.defineProperties(A,{fit:{value:function(){var e=A.headingHeight;A.open&&(e+=y.scrollHeight),H&&(e+=A.elBorder),A.height=e}},ariaEnabled:{get:function(){return h},set:function(e){(e=!!e)!=!!h&&(h=e,e?(w.setAttribute("role","tab"),y.setAttribute("role","tabpanel"),i(),w.setAttribute("aria-selected",!!a),w.setAttribute("aria-expanded",!!a),y.setAttribute("aria-hidden",!a)):(w.removeAttribute("role"),w.removeAttribute("aria-controls"),w.removeAttribute("aria-selected"),w.removeAttribute("aria-expanded"),y.removeAttribute("role"),y.removeAttribute("aria-labelledby"),y.removeAttribute("aria-hidden")))}},open:{get:function(){return void 0===a&&(a=E.contains(F),e(E,x,!a)),a},set:function(n){if((n=!!n)!==a){if("function"==typeof T&&!1===T.call(null,A,n))return;e(E,F,n),e(E,x,!n),a=n,h&&(w.setAttribute("aria-selected",n),w.setAttribute("aria-expanded",n),y.setAttribute("aria-hidden",!n)),A.needsRefresh?(delete A.needsRefresh,t.refresh()):t.update()}}},disabled:{get:function(){return R},set:function(e){if((e=!!e)!==R){var t=n.style;(R=e)?(t.height=null,L?t[s]=null:t.top=null,r&&w.removeEventListener("touchstart",v),w.removeEventListener(o,m),E.remove(F,x),b&&(w.removeEventListener("keydown",b),w.removeAttribute("tabindex")),h&&(A.ariaEnabled=!1,h=!0)):(t.height=f+"px",L?t[s]=l?"translate3D(0,"+u+"px,0)":"translateY("+u+"px)":t.top=u+"px",r&&w.addEventListener("touchstart",v),w.addEventListener(o,m),b&&(w.addEventListener("keydown",b),w.tabIndex=0))}}},y:{get:function(){return void 0===u?u=parseInt(n.style.top)||0:u},set:function(e){(e=+e)!==u&&(u=e,L?n.style[s]=l?"translate3D(0,"+e+"px,0)":"translateY("+e+"px)":n.style.top=e+"px")}},height:{get:function(){return void 0===f&&(f=A.headingHeight+y.scrollHeight,n.style.height=f+"px"),f},set:function(e){e&&(e=+e)!==f&&(n.style.height=e+"px",f=e)}},headingHeight:{get:function(){return w.scrollHeight+A.heightOffset+(H?A.headingBorder:0)}},headingBorder:{get:function(){return(w.offsetHeight||0)-(w.clientHeight||0)}},elHeight:{get:function(){return n.scrollHeight+(H?A.elBorder:0)}},elBorder:{get:function(){return(n.offsetHeight||0)-(n.clientHeight||0)}},wrongSize:{get:function(){return A.headingHeight+y.scrollHeight!==n.scrollHeight}}}),A.index=c.push(A)-1,A.accordion=t,A.el=n,A.heading=w,A.content=y,A.ariaEnabled=!t.noAria,A.heightOffset=t.heightOffset,n.accordionFold=A.index,H="auto"===H?0!==A.elBorder+A.headingBorder:H,C&&(w.tabIndex=0,w.addEventListener("keydown",b=function(e){var n;switch(e.keyCode){case 13:A.open=!A.open;break;case 27:e.target.blur();break;case 38:if(n=A.previousFold){a=n.childAccordions;if(n.open&&a){for(var r,o;a&&(r=a[a.length-1],(o=r.folds[r.folds.length-1]).open);)a=o.childAccordions;o.heading.focus()}else n.heading.focus()}else{if(!t.parent)return!0;t.parentFold.heading.focus()}return e.preventDefault(),!1;case 40:a=A.childAccordions;if(A.open&&a)a[0].folds[0].heading.focus();else if(n=A.nextFold)n.heading.focus();else{if(!A.accordion.parent)return!0;for(var i=A;i=i.accordion.parentFold;)if(n=i.nextFold){n.heading.focus();break}if(!i)return!0}return e.preventDefault(),!1;case 37:A.open?A.open=!1:t.parent&&t.parentFold.heading.focus();break;case 39:var a=A.childAccordions;A.open?a&&a[0].folds[0].heading.focus():A.open=!0}})),r&&w.addEventListener("touchstart",v=function(e){g=window.pageXOffset,p=window.pageYOffset}),w.addEventListener(o,m=function(e){return("touchend"!==e.type||e.cancelable&&window.pageXOffset===g&&window.pageYOffset===p)&&(A.open=!A.open,e.preventDefault()),!1})},f=[],h=0,g=function(t,r){function o(e){if(m){var n=t.getBoundingClientRect(),r=window.innerHeight;n.bottom+(e||0)<r?b.add(m):n.bottom>r&&b.remove(m)}}function d(){for(var e,t,n=0,r=0,i=0,a=E.length,d=v.parentFold;i<a;++i)(e=E[i]).y=n,e.fit(),n+=e.height,r+=e.height;t=r-s,d?d.open&&v.parent.updateFold(d,t):o(t),v.height=r}var s,l,c,p,v=this,b=t.classList,m=void 0===(r=r||{}).edgeClass?"edge-visible":r.edgeClass,A=void 0===r.snapClass?"snap":r.snapClass,w=void 0===r.enabledClass?"accordion":r.enabledClass,y=r.disabledClass;Object.defineProperties(v,{update:{value:d},updateFold:{value:function(e,t){for(var n=e,r=v.parentFold;n=n.nextFold;)n.y+=t;r||o(t),e.height+=t,v.height+=t,r&&r.open&&v.parent.updateFold(r,t)}},refresh:{value:function(e){var t=!!e&&A;t&&b.add(t),v.update(),v.childAccordions&&v.childAccordions.forEach(function(t){t.parentFold.open?t.refresh(e):t.parentFold.needsRefresh=!0}),t&&setTimeout(function(e){b.remove(t)},20)}},disabled:{get:function(){return l},set:function(r){if((r=!!r)!==l){var o=t.style,i=v.folds;if(w&&e(b,w,!r),y&&e(b,y,r),l=r){o.height=null,A&&b.remove(A),m&&(t.removeEventListener(a,v.onTransitionEnd),b.remove(m));for(var s=0,c=i.length;s<c;++s)i[s].disabled=!0;v.noAria||t.removeAttribute("role"),--h}else{for(var s=0,c=i.length;s<c;++s)i[s].disabled=!1;v.noAria||t.setAttribute("role","tablist"),++h,d()}h<=0?(h=0,g.setResizeRate(!1)):n&&g.setResizeRate(n)}}},parent:{set:function(e){c=e},get:function(){var e=c;if(!e)return null;for(;e;){if(!e.disabled)return e;e=e.parent}return null}},parentFold:{set:function(e){p=e},get:function(){var e=p;if(!e)return null;for(var t=e.accordion;e&&t;){if(!t.disabled)return e;(t=t.parent)&&(e=t.parentFold)}return null}},height:{get:function(){return s},set:function(e){e&&(e=+e)!==s&&(t.style.height=e+"px",s=e)}},wrongSize:{get:function(){for(var e=this.folds,t=e.length,n=0;n<t;++n)if(e[n].wrongSize)return!0;if(e=this.childAccordions)for(;n<t;++n)if(e[n].wrongSize)return!0;return!1}},root:{get:function(){for(var e=this;e;){if(!e.parent)return e;e=e.parent}}}}),v.openClass=r.openClass||"open",v.closeClass=r.closeClass||"closed",v.noAria=!!r.noAria,v.noKeys=!!r.noKeys,v.noTransforms=!!r.noTransforms,v.index=f.push(v)-1,v.heightOffset=+r.heightOffset||0,v.useBorders=void 0===r.useBorders?"auto":r.useBorders,v.onToggle=r.onToggle;var E=[];i.call(t.children,function(e){var t=new u(v,e);E.push(t);var n=E[E.length-2];n&&(n.nextFold=t,t.previousFold=n)}),t.accordion=v.index,v.noAria||t.setAttribute("role","tablist"),v.el=t,v.folds=E,!r.disabled&&w&&b.add(w),d();for(var F=t;(F=F.parentNode)&&1===F.nodeType;){var x=g.getFold(F);if(x){var C=x.accordion;if(v.parent=C,v.parentFold=x,m&&b.remove(m),(C.childAccordions=C.childAccordions||[]).push(v),(x.childAccordions=x.childAccordions||[]).push(v),x.open){var H=x.el.scrollHeight,L=x.headingHeight+x.content.scrollHeight-H||H-x.el.clientHeight;C.updateFold(x,L)}break}}m&&t.addEventListener(a,this.onTransitionEnd=function(e){!v.parent&&e.target===t&&"height"===e.propertyName&&t.getBoundingClientRect().bottom>window.innerHeight&&b.remove(m)}),this.disabled=!!r.disabled};"function"==typeof IE8PP&&(g=IE8PP(g),u=IE8PP(u)),g.setResizeRate=function(e){var r=function(e){for(var t,n=0,r=f.length;n<r;++n)(t=f[n]).parent||t.disabled||t.refresh(!0)},o=g;o.onResize&&window.removeEventListener("resize",o.onResize),!1!==e&&(e=+e||0)>=0&&(o.onResize=e?t(r,e):r,window.addEventListener("resize",o.onResize),e&&(n=e))},g.getAccordion=function(e){for(;e;){if("accordion"in e)return f[e.accordion];if(!(e=e.parentNode)||1!==e.nodeType)return null}},g.getFold=function(e){for(;e;){if("accordionFold"in e)return c[e.accordionFold];if(!(e=e.parentNode)||1!==e.nodeType)return null}},g.setResizeRate(25),window.Accordion=g}();
//# sourceMappingURL=accordion.min.js.map