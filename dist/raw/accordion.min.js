!function(){"use strict";function e(e,t,n){var r,i,o,a,t=0>t?0:t,d=function(){var s=Date.now()-r;s>=t?(n||e.apply(i,o),a&&clearTimeout(a),a=i=o=null):a=setTimeout(d,t-s)};return function(){return i=this,o=arguments,t?(r=Date.now(),void(a||(n&&e.apply(i,o),a=setTimeout(d,t)))):e.apply(i,o)}}var t,n="ontouchstart"in document.documentElement,r=n?"touchend":"click",i=[].forEach,o=function(){for(var e="transitionend webkitTransitionEnd oTransitionEnd otransitionend".split(" "),t=0;4>t;++t)if("on"+e[t].toLowerCase()in window)return e[t];return e[0]}(),a=function(){function e(r,i,o){o=+(o||6);var a=r=r||"_";if(i){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(d+=d.toLowerCase(),a+=d[Math.round(Math.random()*(d.length-1))],d+="0123456789";a.length<o;)a+=d[Math.round(Math.random()*(d.length-1))]}else n[r]||(n[r]=0),a+=++n[r];return t[a]||document.getElementById(a)?e(r,i):(t[a]=!0,a)}var t={},n={};return e}(),d=[],s=function(e,t){function i(){var e,n="-heading",r="-content",i=t.id;A.id||m.id?m.id?A.id||(A.id=(i||m.id)+n):m.id=(i||A.id)+r:(e=i||a("a"),A.id=e+n,m.id=e+r);for(var o=function(e){return document.querySelectorAll("#"+e)};o(m.id).length>1||o(A.id).length>1;)e=a("a"),m.id=e+r,A.id=e+n;A.setAttribute("aria-controls",m.id),m.setAttribute("aria-labelledby",A.id)}function o(){var e=b.headingHeight;b.open&&(e+=m.scrollHeight),H&&(e+=b.elBorder),b.height=e}var s,l,c,u,f,h,g,p,v,b=this,A=t.firstElementChild,m=t.lastElementChild,w=t.classList,y=e.openClass,E=e.closeClass,F=!e.noKeys,H=e.useBorders,C=!1;Object.defineProperties(b,{fit:{value:o},ariaEnabled:{get:function(){return u},set:function(e){(e=!!e)!=!!u&&(u=e,e?(A.setAttribute("role","tab"),m.setAttribute("role","tabpanel"),i(),A.setAttribute("aria-selected",!!s),A.setAttribute("aria-expanded",!!s),m.setAttribute("aria-hidden",!s)):(A.removeAttribute("role"),A.removeAttribute("aria-controls"),A.removeAttribute("aria-selected"),A.removeAttribute("aria-expanded"),m.removeAttribute("role"),m.removeAttribute("aria-labelledby"),m.removeAttribute("aria-hidden")))}},open:{get:function(){if(void 0===s){var e=w.contains(y);return w.toggle(E,!e),s=e}return s},set:function(t){(t=!!t)!==s&&(w.toggle(y,t),w.toggle(E,!t),s=t,u&&(A.setAttribute("aria-selected",t),A.setAttribute("aria-expanded",t),m.setAttribute("aria-hidden",!t)),b.needsRefresh?(delete b.needsRefresh,e.refresh()):e.update())}},disabled:{get:function(){return C},set:function(e){if((e=!!e)!==C){var i=t.style;(C=e)?(i.height=i.top=null,n&&A.removeEventListener("touchstart",g),A.removeEventListener(r,v),w.remove(y,E),p&&(A.removeEventListener("keydown",p),A.removeAttribute("tabindex")),u&&(b.ariaEnabled=!1,u=!0)):(i.height=c+"px",i.top=l+"px",n&&A.addEventListener("touchstart",g),A.addEventListener(r,v),p&&(A.addEventListener("keydown",p),A.tabIndex=0))}}},y:{get:function(){return void 0===l?l=parseInt(t.style.top)||0:l},set:function(e){(e=+e)!==l&&(t.style.top=e+"px",l=e)}},height:{get:function(){return void 0===c&&(c=b.headingHeight+m.scrollHeight,t.style.height=c+"px"),c},set:function(e){e&&(e=+e)!==c&&(t.style.height=e+"px",c=e)}},headingHeight:{get:function(){return A.scrollHeight+b.heightOffset+(H?b.headingBorder:0)}},headingBorder:{get:function(){return(A.offsetHeight||0)-(A.clientHeight||0)}},elHeight:{get:function(){return t.scrollHeight+(H?b.elBorder:0)}},elBorder:{get:function(){return(t.offsetHeight||0)-(t.clientHeight||0)}},wrongSize:{get:function(){return b.headingHeight+m.scrollHeight!==t.scrollHeight}}}),b.index=d.push(b)-1,b.accordion=e,b.el=t,b.heading=A,b.content=m,b.ariaEnabled=!e.noAria,b.heightOffset=e.heightOffset,t.accordionFold=b.index,H="auto"===H?0!==b.elBorder+b.headingBorder:H,F&&(A.tabIndex=0,A.addEventListener("keydown",p=function(t){var n,r=t.keyCode;switch(r){case 13:b.open=!b.open;break;case 27:t.target.blur();break;case 38:if(n=b.previousFold){var i=n.childAccordions;if(n.open&&i){for(var o,a;i&&(o=i[i.length-1],a=o.folds[o.folds.length-1],a.open);)i=a.childAccordions;a.heading.focus()}else n.heading.focus()}else{if(!e.parent)return!0;e.parentFold.heading.focus()}return t.preventDefault(),!1;case 40:var i=b.childAccordions;if(b.open&&i)i[0].folds[0].heading.focus();else if(n=b.nextFold)n.heading.focus();else{if(!b.accordion.parent)return!0;for(var d=b;d=d.accordion.parentFold;)if(n=d.nextFold){n.heading.focus();break}if(!d)return!0}return t.preventDefault(),!1;case 37:b.open?b.open=!1:e.parent&&e.parentFold.heading.focus();break;case 39:var i=b.childAccordions;b.open?i&&i[0].folds[0].heading.focus():b.open=!0}})),n&&A.addEventListener("touchstart",g=function(e){f=window.pageXOffset,h=window.pageYOffset}),A.addEventListener(r,v=function(e){return("touchend"!==e.type||e.cancelable&&window.pageXOffset===f&&window.pageYOffset===h)&&(b.open=!b.open,e.preventDefault()),!1})},l=[],c=0,u=function(e,n){function r(t){if(m){var n=e.getBoundingClientRect(),r=window.innerHeight;n.bottom+(t||0)<r?A.add(m):n.bottom>r&&A.remove(m)}}function a(e,t){for(var n=e,i=b.parentFold;n=n.nextFold;)n.y+=t;i||r(t),e.height+=t,b.height+=t,i&&i.open&&b.parent.updateFold(i,t)}function d(){for(var e,t,n=0,i=0,o=0,a=F.length,d=b.parentFold;a>o;++o)e=F[o],e.y=n,e.fit(),n+=e.height,i+=e.height;t=i-h,d?d.open&&b.parent.updateFold(d,t):r(t),b.height=i}function f(e){var t=e?w:!1;t&&A.add(t),b.update(),b.childAccordions&&b.childAccordions.forEach(function(t){t.parentFold.open?t.refresh(e):t.parentFold.needsRefresh=!0}),t&&setTimeout(function(e){A.remove(t)},20)}var h,g,p,v,b=this,A=e.classList,n=n||{},m=void 0===n.edgeClass?"edge-visible":n.edgeClass,w=void 0===n.snapClass?"snap":n.snapClass,y=void 0===n.enabledClass?"accordion":n.enabledClass,E=n.disabledClass;Object.defineProperties(b,{update:{value:d},updateFold:{value:a},refresh:{value:f},disabled:{get:function(){return g},set:function(n){if((n=!!n)!==g){var r=e.style,i=b.folds;if(y&&A.toggle(y,!n),E&&A.toggle(E,n),g=n){r.height=null,w&&A.remove(w),m&&(e.removeEventListener(o,b.onTransitionEnd),A.remove(m));for(var a=0,s=i.length;s>a;++a)i[a].disabled=!0;b.noAria||e.removeAttribute("role"),--c}else{for(var a=0,s=i.length;s>a;++a)i[a].disabled=!1;b.noAria||e.setAttribute("role","tablist"),++c,d()}0>=c?(c=0,u.setResizeRate(!1)):t&&u.setResizeRate(t)}}},parent:{set:function(e){p=e},get:function(){var e=p;if(!e)return null;for(;e;){if(!e.disabled)return e;e=e.parent}return null}},parentFold:{set:function(e){v=e},get:function(){var e=v;if(!e)return null;for(var t=e.accordion;e&&t;){if(!t.disabled)return e;(t=t.parent)&&(e=t.parentFold)}return null}},height:{get:function(){return h},set:function(t){t&&(t=+t)!==h&&(e.style.height=t+"px",h=t)}},wrongSize:{get:function(){for(var e=this.folds,t=e.length,n=0;t>n;++n)if(e[n].wrongSize)return!0;if(e=this.childAccordions)for(;t>n;++n)if(e[n].wrongSize)return!0;return!1}},root:{get:function(){for(var e=this;e;){if(!e.parent)return e;e=e.parent}}}}),b.openClass=n.openClass||"open",b.closeClass=n.closeClass||"closed",b.noAria=!!n.noAria,b.noKeys=!!n.noKeys,b.index=l.push(b)-1,b.heightOffset=+n.heightOffset||0,b.useBorders=void 0===n.useBorders?"auto":n.useBorders;var F=[];i.call(e.children,function(e){var t=new s(b,e);F.push(t);var n=F[F.length-2];n&&(n.nextFold=t,t.previousFold=n)}),e.accordion=b.index,b.noAria||e.setAttribute("role","tablist"),b.el=e,b.folds=F,!n.disabled&&y&&A.add(y),d();for(var H=e;(H=H.parentNode)&&1===H.nodeType;){var C=u.getFold(H);if(C){var x=C.accordion;if(b.parent=x,b.parentFold=C,m&&A.remove(m),(x.childAccordions=x.childAccordions||[]).push(b),(C.childAccordions=C.childAccordions||[]).push(b),C.open){var L=C.el.scrollHeight,R=C.headingHeight+C.content.scrollHeight-L||L-C.el.clientHeight;x.updateFold(C,R)}break}}m&&e.addEventListener(o,this.onTransitionEnd=function(t){!b.parent&&t.target===e&&"height"===t.propertyName&&e.getBoundingClientRect().bottom>window.innerHeight&&A.remove(m)}),this.disabled=!!n.disabled};"function"==typeof IE8PP&&(u=IE8PP(u),s=IE8PP(s)),u.setResizeRate=function(n){var r=function(e){for(var t,n=0,r=l.length;r>n;++n)t=l[n],t.parent||t.disabled||t.refresh(!0)},i=u;i.onResize&&window.removeEventListener("resize",i.onResize),!1!==n&&(n=+n||0)>=0&&(i.onResize=n?e(r,n):r,window.addEventListener("resize",i.onResize),n&&(t=n))},u.getAccordion=function(e){for(;e;){if("accordion"in e)return l[e.accordion];if(e=e.parentNode,!e||1!==e.nodeType)return null}},u.getFold=function(e){for(;e;){if("accordionFold"in e)return d[e.accordionFold];if(e=e.parentNode,!e||1!==e.nodeType)return null}},u.setResizeRate(25),window.Accordion=u}();
