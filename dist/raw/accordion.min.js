!function(){"use strict";function e(e,t,n){var r,o,i,a,t=0>t?0:t,d=function(){var s=Date.now()-r;s>=t?(n||e.apply(o,i),a&&clearTimeout(a),a=o=i=null):a=setTimeout(d,t-s)};return function(){return o=this,i=arguments,t?(r=Date.now(),void(a||(n&&e.apply(o,i),a=setTimeout(d,t)))):e.apply(o,i)}}var t,n="ontouchstart"in document.documentElement,r=n?"touchend":"click",o=[].forEach,i=function(){for(var e="transitionend webkitTransitionEnd oTransitionEnd otransitionend".split(" "),t=0;4>t;++t)if("on"+e[t].toLowerCase()in window)return e[t];return e[0]}(),a=function(){function e(r,o,i){i=+(i||6);var a=r=r||"_";if(o){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(d+=d.toLowerCase(),a+=d[Math.round(Math.random()*(d.length-1))],d+="0123456789";a.length<i;)a+=d[Math.round(Math.random()*(d.length-1))]}else n[r]||(n[r]=0),a+=++n[r];return t[a]||document.getElementById(a)?e(r,o):(t[a]=!0,a)}var t={},n={};return e}(),d=function(e){if(n=document.documentElement.style,(t=e.toLowerCase())in n)return t;for(var t,n,r="Webkit Moz Ms O Khtml",r=(r.toLowerCase()+r).split(" "),o=0;10>o;++o)if((t=r[o]+e)in n)return t;return""}("Transform"),s=function(e){var t=document.createElement("div"),n=t.style,r=[["translateY(",")"],["translate3d(0,",",0)"]];try{n[e]=r[1].join("1px")}catch(t){}return r[+!!n[e]]===r[1]}(d),l=[],u=function(e,t){function o(){var e,n="-heading",r="-content",o=t.id;w.id||y.id?y.id?w.id||(w.id=(o||y.id)+n):y.id=(o||w.id)+r:(e=o||a("a"),w.id=e+n,y.id=e+r);for(var i=function(e){return document.querySelectorAll("#"+e)};i(y.id).length>1||i(w.id).length>1;)e=a("a"),y.id=e+r,w.id=e+n;w.setAttribute("aria-controls",y.id),y.setAttribute("aria-labelledby",w.id)}function i(){var e=A.headingHeight;A.open&&(e+=y.scrollHeight),H&&(e+=A.elBorder),A.height=e}var u,c,f,h,g,p,v,b,m,A=this,w=t.firstElementChild,y=t.lastElementChild,E=t.classList,F=e.openClass,x=e.closeClass,C=!e.noKeys,H=e.useBorders,L=!e.noTransforms&&d,T=e.onToggle,R=!1;Object.defineProperties(A,{fit:{value:i},ariaEnabled:{get:function(){return h},set:function(e){(e=!!e)!=!!h&&(h=e,e?(w.setAttribute("role","tab"),y.setAttribute("role","tabpanel"),o(),w.setAttribute("aria-selected",!!u),w.setAttribute("aria-expanded",!!u),y.setAttribute("aria-hidden",!u)):(w.removeAttribute("role"),w.removeAttribute("aria-controls"),w.removeAttribute("aria-selected"),w.removeAttribute("aria-expanded"),y.removeAttribute("role"),y.removeAttribute("aria-labelledby"),y.removeAttribute("aria-hidden")))}},open:{get:function(){if(void 0===u){var e=E.contains(F);return E.toggle(x,!e),u=e}return u},set:function(t){if((t=!!t)!==u){if("function"==typeof T&&!1===T.call(null,A,t))return;E.toggle(F,t),E.toggle(x,!t),u=t,h&&(w.setAttribute("aria-selected",t),w.setAttribute("aria-expanded",t),y.setAttribute("aria-hidden",!t)),A.needsRefresh?(delete A.needsRefresh,e.refresh()):e.update()}}},disabled:{get:function(){return R},set:function(e){if((e=!!e)!==R){var o=t.style;(R=e)?(o.height=null,L?o[d]=null:o.top=null,n&&w.removeEventListener("touchstart",v),w.removeEventListener(r,m),E.remove(F,x),b&&(w.removeEventListener("keydown",b),w.removeAttribute("tabindex")),h&&(A.ariaEnabled=!1,h=!0)):(o.height=f+"px",L?o[d]=s?"translate3D(0,"+c+"px,0)":"translateY("+c+"px)":o.top=c+"px",n&&w.addEventListener("touchstart",v),w.addEventListener(r,m),b&&(w.addEventListener("keydown",b),w.tabIndex=0))}}},y:{get:function(){return void 0===c?c=parseInt(t.style.top)||0:c},set:function(e){(e=+e)!==c&&(c=e,L?t.style[d]=s?"translate3D(0,"+e+"px,0)":"translateY("+e+"px)":t.style.top=e+"px")}},height:{get:function(){return void 0===f&&(f=A.headingHeight+y.scrollHeight,t.style.height=f+"px"),f},set:function(e){e&&(e=+e)!==f&&(t.style.height=e+"px",f=e)}},headingHeight:{get:function(){return w.scrollHeight+A.heightOffset+(H?A.headingBorder:0)}},headingBorder:{get:function(){return(w.offsetHeight||0)-(w.clientHeight||0)}},elHeight:{get:function(){return t.scrollHeight+(H?A.elBorder:0)}},elBorder:{get:function(){return(t.offsetHeight||0)-(t.clientHeight||0)}},wrongSize:{get:function(){return A.headingHeight+y.scrollHeight!==t.scrollHeight}}}),A.index=l.push(A)-1,A.accordion=e,A.el=t,A.heading=w,A.content=y,A.ariaEnabled=!e.noAria,A.heightOffset=e.heightOffset,t.accordionFold=A.index,H="auto"===H?0!==A.elBorder+A.headingBorder:H,C&&(w.tabIndex=0,w.addEventListener("keydown",b=function(t){var n,r=t.keyCode;switch(r){case 13:A.open=!A.open;break;case 27:t.target.blur();break;case 38:if(n=A.previousFold){var o=n.childAccordions;if(n.open&&o){for(var i,a;o&&(i=o[o.length-1],a=i.folds[i.folds.length-1],a.open);)o=a.childAccordions;a.heading.focus()}else n.heading.focus()}else{if(!e.parent)return!0;e.parentFold.heading.focus()}return t.preventDefault(),!1;case 40:var o=A.childAccordions;if(A.open&&o)o[0].folds[0].heading.focus();else if(n=A.nextFold)n.heading.focus();else{if(!A.accordion.parent)return!0;for(var d=A;d=d.accordion.parentFold;)if(n=d.nextFold){n.heading.focus();break}if(!d)return!0}return t.preventDefault(),!1;case 37:A.open?A.open=!1:e.parent&&e.parentFold.heading.focus();break;case 39:var o=A.childAccordions;A.open?o&&o[0].folds[0].heading.focus():A.open=!0}})),n&&w.addEventListener("touchstart",v=function(e){g=window.pageXOffset,p=window.pageYOffset}),w.addEventListener(r,m=function(e){return("touchend"!==e.type||e.cancelable&&window.pageXOffset===g&&window.pageYOffset===p)&&(A.open=!A.open,e.preventDefault()),!1})},c=[],f=0,h=function(e,n){function r(t){if(A){var n=e.getBoundingClientRect(),r=window.innerHeight;n.bottom+(t||0)<r?m.add(A):n.bottom>r&&m.remove(A)}}function a(e,t){for(var n=e,o=b.parentFold;n=n.nextFold;)n.y+=t;o||r(t),e.height+=t,b.height+=t,o&&o.open&&b.parent.updateFold(o,t)}function d(){for(var e,t,n=0,o=0,i=0,a=F.length,d=b.parentFold;a>i;++i)e=F[i],e.y=n,e.fit(),n+=e.height,o+=e.height;t=o-l,d?d.open&&b.parent.updateFold(d,t):r(t),b.height=o}function s(e){var t=e?w:!1;t&&m.add(t),b.update(),b.childAccordions&&b.childAccordions.forEach(function(t){t.parentFold.open?t.refresh(e):t.parentFold.needsRefresh=!0}),t&&setTimeout(function(e){m.remove(t)},20)}var l,g,p,v,b=this,m=e.classList,n=n||{},A=void 0===n.edgeClass?"edge-visible":n.edgeClass,w=void 0===n.snapClass?"snap":n.snapClass,y=void 0===n.enabledClass?"accordion":n.enabledClass,E=n.disabledClass;Object.defineProperties(b,{update:{value:d},updateFold:{value:a},refresh:{value:s},disabled:{get:function(){return g},set:function(n){if((n=!!n)!==g){var r=e.style,o=b.folds;if(y&&m.toggle(y,!n),E&&m.toggle(E,n),g=n){r.height=null,w&&m.remove(w),A&&(e.removeEventListener(i,b.onTransitionEnd),m.remove(A));for(var a=0,s=o.length;s>a;++a)o[a].disabled=!0;b.noAria||e.removeAttribute("role"),--f}else{for(var a=0,s=o.length;s>a;++a)o[a].disabled=!1;b.noAria||e.setAttribute("role","tablist"),++f,d()}0>=f?(f=0,h.setResizeRate(!1)):t&&h.setResizeRate(t)}}},parent:{set:function(e){p=e},get:function(){var e=p;if(!e)return null;for(;e;){if(!e.disabled)return e;e=e.parent}return null}},parentFold:{set:function(e){v=e},get:function(){var e=v;if(!e)return null;for(var t=e.accordion;e&&t;){if(!t.disabled)return e;(t=t.parent)&&(e=t.parentFold)}return null}},height:{get:function(){return l},set:function(t){t&&(t=+t)!==l&&(e.style.height=t+"px",l=t)}},wrongSize:{get:function(){for(var e=this.folds,t=e.length,n=0;t>n;++n)if(e[n].wrongSize)return!0;if(e=this.childAccordions)for(;t>n;++n)if(e[n].wrongSize)return!0;return!1}},root:{get:function(){for(var e=this;e;){if(!e.parent)return e;e=e.parent}}}}),b.openClass=n.openClass||"open",b.closeClass=n.closeClass||"closed",b.noAria=!!n.noAria,b.noKeys=!!n.noKeys,b.noTransforms=!!n.noTransforms,b.index=c.push(b)-1,b.heightOffset=+n.heightOffset||0,b.useBorders=void 0===n.useBorders?"auto":n.useBorders,b.onToggle=n.onToggle;var F=[];o.call(e.children,function(e){var t=new u(b,e);F.push(t);var n=F[F.length-2];n&&(n.nextFold=t,t.previousFold=n)}),e.accordion=b.index,b.noAria||e.setAttribute("role","tablist"),b.el=e,b.folds=F,!n.disabled&&y&&m.add(y),d();for(var x=e;(x=x.parentNode)&&1===x.nodeType;){var C=h.getFold(x);if(C){var H=C.accordion;if(b.parent=H,b.parentFold=C,A&&m.remove(A),(H.childAccordions=H.childAccordions||[]).push(b),(C.childAccordions=C.childAccordions||[]).push(b),C.open){var L=C.el.scrollHeight,T=C.headingHeight+C.content.scrollHeight-L||L-C.el.clientHeight;H.updateFold(C,T)}break}}A&&e.addEventListener(i,this.onTransitionEnd=function(t){!b.parent&&t.target===e&&"height"===t.propertyName&&e.getBoundingClientRect().bottom>window.innerHeight&&m.remove(A)}),this.disabled=!!n.disabled};"function"==typeof IE8PP&&(h=IE8PP(h),u=IE8PP(u)),h.setResizeRate=function(n){var r=function(e){for(var t,n=0,r=c.length;r>n;++n)t=c[n],t.parent||t.disabled||t.refresh(!0)},o=h;o.onResize&&window.removeEventListener("resize",o.onResize),!1!==n&&(n=+n||0)>=0&&(o.onResize=n?e(r,n):r,window.addEventListener("resize",o.onResize),n&&(t=n))},h.getAccordion=function(e){for(;e;){if("accordion"in e)return c[e.accordion];if(e=e.parentNode,!e||1!==e.nodeType)return null}},h.getFold=function(e){for(;e;){if("accordionFold"in e)return l[e.accordionFold];if(e=e.parentNode,!e||1!==e.nodeType)return null}},h.setResizeRate(25),window.Accordion=h}();
//# sourceMappingURL=dist/raw/accordion.min.js.map
